---
import Badge from "../components/Badge.astro";
const linkedinUrl = "https://www.linkedin.com/in/aterancode/";
const whatsappNumber = "584241456041";
const whatsappMessage =
  "Hola Adrian, vi tu portafolio y me gustaría contactarte.";
const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;

const welcomeText = "Hey, mi nombre es Adrian Teran";
---

<main id="home" class="pt-28 md:py-48">
  <section>
    <div class="flex flex-col max-w-4xl">
      <div class="flex flex-col gap-2">
        <img
          src="/img/hero.png"
          width="100"
          class="rounded-full animate-bounce mb-4"
          alt="Foto de Adrian Teran"
        />
        <h1
          class="text-5xl font-semibold text-gray-200 min-h-[1.2em] flex items-center flex-wrap"
        >
          <span id="typewriter" class="inline-block"></span>
          <span
            id="cursor"
            class="inline-block w-[3px] h-[1em] bg-blue-500 ml-2 animate-blink"
          ></span>
        </h1>
      </div>

      <p class="text-md text-gray-200 opacity-70 py-4">
        Desarrollador Web - Especializado en crear soluciones digitales!
      </p>

      <div class="flex flex-wrap gap-4 mt-2 mb-6">
        <a
          href={linkedinUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#0077b5] rounded-lg hover:bg-[#005a8a] transition-all duration-500 hover:-translate-y-2"
        >
          LinkedIn
        </a>
        <a
          href={whatsappLink}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#25d366] rounded-lg hover:bg-[#128c7e] transition-all duration-500 hover:-translate-y-2"
        >
          WhatsApp
        </a>
      </div>
    </div>
    <Badge>Disponible para trabajar</Badge>
  </section>
</main>

<script define:vars={{ welcomeText }}>
  const textElement = document.getElementById("typewriter");
  let i = 0;
  const speed = 150; // Velocidad más lenta (puedes subirlo a 200 si aún lo sientes rápido)

  function typeWriter() {
    if (i < welcomeText.length) {
      textElement.textContent += welcomeText.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  // Iniciamos la animación cuando el DOM esté listo
  window.addEventListener("DOMContentLoaded", typeWriter);
</script>

<style>
  /* Animación de parpadeo más profesional para el cursor */
  @keyframes blink {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }
  .animate-blink {
    animation: blink 0.9s step-end infinite;
  }
</style>
